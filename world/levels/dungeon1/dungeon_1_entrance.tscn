[gd_scene load_steps=61 format=3 uid="uid://crafsmnpblvul"]

[ext_resource type="PackedScene" uid="uid://cnd06dpkgufe4" path="res://world/levels/level_base.tscn" id="1_5tytn"]
[ext_resource type="Texture2D" uid="uid://dc4pcxr2lfkka" path="res://demo_art/dungeon_entrance.png" id="5_rq825"]
[ext_resource type="Script" path="res://world/interactable/transition_trigger/transition_trigger.gd" id="6_i0y6h"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/shape_closed.gd" id="7_xlq6s"]
[ext_resource type="Script" path="res://addons/rmsmartshape/vertex_properties.gd" id="8_dw6ak"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/point.gd" id="9_2v5ni"]
[ext_resource type="Texture2D" uid="uid://df2gjfswqcbjc" path="res://world/tilemap/wood_floor/wood_floor.png" id="9_wfuxq"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/point_array.gd" id="10_oh8ca"]
[ext_resource type="Script" path="res://addons/rmsmartshape/materials/edge_material_metadata.gd" id="11_2uu4j"]
[ext_resource type="PackedScene" uid="uid://5x8wo3lcwigq" path="res://world/objects/breakable_object/breakable_object.tscn" id="13_8n2w6"]
[ext_resource type="Script" path="res://addons/rmsmartshape/materials/shape_material.gd" id="13_xt8mp"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_v16rf"]
size = Vector2(158, 146)

[sub_resource type="Resource" id="Resource_2wqng"]
script = ExtResource("8_dw6ak")
texture_idx = 10
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_64y4j"]
script = ExtResource("9_2v5ni")
position = Vector2(-1642, 261)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_2wqng")

[sub_resource type="Resource" id="Resource_hnftr"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_0w6ak"]
script = ExtResource("9_2v5ni")
position = Vector2(1496, 968)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_hnftr")

[sub_resource type="Resource" id="Resource_q4pkn"]
script = ExtResource("8_dw6ak")
texture_idx = 8
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_5qq3e"]
script = ExtResource("9_2v5ni")
position = Vector2(-1640, 960)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_q4pkn")

[sub_resource type="Resource" id="Resource_5fhwo"]
script = ExtResource("8_dw6ak")
texture_idx = 10
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_7sakk"]
script = ExtResource("9_2v5ni")
position = Vector2(-1642, 261)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_5fhwo")

[sub_resource type="Resource" id="Resource_plj3s"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_h2g5j"]
script = ExtResource("9_2v5ni")
position = Vector2(-224, -88)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_plj3s")

[sub_resource type="Resource" id="Resource_2ut8g"]
script = ExtResource("8_dw6ak")
texture_idx = 6
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_jfq0f"]
script = ExtResource("9_2v5ni")
position = Vector2(1504, -88)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_2ut8g")

[sub_resource type="Resource" id="Resource_qhyg8"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_1a0y5"]
script = ExtResource("9_2v5ni")
position = Vector2(-1248, 960)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_qhyg8")

[sub_resource type="Resource" id="Resource_lms1w"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_yetsn"]
script = ExtResource("9_2v5ni")
position = Vector2(-1248, 1312)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_lms1w")

[sub_resource type="Resource" id="Resource_bnx7a"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_6wkf8"]
script = ExtResource("9_2v5ni")
position = Vector2(-448, 1304)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_bnx7a")

[sub_resource type="Resource" id="Resource_oqtin"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_1dv35"]
script = ExtResource("9_2v5ni")
position = Vector2(-432, 808)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_oqtin")

[sub_resource type="Resource" id="Resource_wtmmt"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_mklke"]
script = ExtResource("9_2v5ni")
position = Vector2(512, 944)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_wtmmt")

[sub_resource type="Resource" id="Resource_vypxl"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_atett"]
script = ExtResource("9_2v5ni")
position = Vector2(-32, 1848)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_vypxl")

[sub_resource type="Resource" id="Resource_vfo0w"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_r2w8q"]
script = ExtResource("9_2v5ni")
position = Vector2(1496, 1872)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_vfo0w")

[sub_resource type="Resource" id="Resource_2y86t"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_3ityt"]
script = ExtResource("9_2v5ni")
position = Vector2(960, 968)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_2y86t")

[sub_resource type="Resource" id="Resource_uyggq"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_k4o6f"]
script = ExtResource("9_2v5ni")
position = Vector2(-8, 1272)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_uyggq")

[sub_resource type="Resource" id="Resource_2owwu"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_ogqwo"]
script = ExtResource("9_2v5ni")
position = Vector2(504, 1264)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_2owwu")

[sub_resource type="Resource" id="Resource_03222"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_m2gjy"]
script = ExtResource("9_2v5ni")
position = Vector2(960, 1256)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_03222")

[sub_resource type="Resource" id="Resource_cj4qi"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_55j5x"]
script = ExtResource("9_2v5ni")
position = Vector2(1496, 1264)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_cj4qi")

[sub_resource type="Resource" id="Resource_gi8o4"]
script = ExtResource("8_dw6ak")
texture_idx = 1
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_20ukf"]
script = ExtResource("9_2v5ni")
position = Vector2(-416, 472)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_gi8o4")

[sub_resource type="Resource" id="Resource_dd8q0"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_5bdpd"]
script = ExtResource("9_2v5ni")
position = Vector2(-216, 480)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_dd8q0")

[sub_resource type="Resource" id="Resource_ao7em"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_a21p5"]
script = ExtResource("9_2v5ni")
position = Vector2(-424, 272)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_ao7em")

[sub_resource type="Resource" id="Resource_lju4h"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_oveqy"]
script = ExtResource("9_2v5ni")
position = Vector2(-216, 808)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_lju4h")

[sub_resource type="Resource" id="Resource_0qurl"]
script = ExtResource("8_dw6ak")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_ahma7"]
script = ExtResource("9_2v5ni")
position = Vector2(-208, 952)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_0qurl")

[sub_resource type="Resource" id="Resource_cwgnq"]
script = ExtResource("10_oh8ca")
_points = {
0: SubResource("Resource_64y4j"),
2: SubResource("Resource_0w6ak"),
3: SubResource("Resource_5qq3e"),
4: SubResource("Resource_7sakk"),
6: SubResource("Resource_h2g5j"),
7: SubResource("Resource_jfq0f"),
10: SubResource("Resource_1a0y5"),
11: SubResource("Resource_yetsn"),
12: SubResource("Resource_6wkf8"),
13: SubResource("Resource_1dv35"),
14: SubResource("Resource_mklke"),
15: SubResource("Resource_atett"),
16: SubResource("Resource_r2w8q"),
17: SubResource("Resource_3ityt"),
18: SubResource("Resource_k4o6f"),
19: SubResource("Resource_ogqwo"),
20: SubResource("Resource_m2gjy"),
21: SubResource("Resource_55j5x"),
22: SubResource("Resource_20ukf"),
23: SubResource("Resource_5bdpd"),
24: SubResource("Resource_a21p5"),
25: SubResource("Resource_oveqy"),
26: SubResource("Resource_ahma7")
}
_point_order = PackedInt32Array(0, 24, 22, 23, 6, 7, 2, 17, 20, 21, 16, 15, 18, 19, 14, 26, 25, 13, 12, 11, 10, 3, 4)
_constraints = {
Vector2i(0, 4): 15
}
_next_key = 27
_material_overrides = {}
tessellation_stages = 3
tessellation_tolerance = 6.0
curve_bake_interval = 20.0

[sub_resource type="Resource" id="Resource_ptudl"]
script = ExtResource("13_xt8mp")
_edge_meta_materials = Array[ExtResource("11_2uu4j")]([])
fill_textures = Array[Texture2D]([ExtResource("9_wfuxq")])
fill_texture_z_index = -10
fill_texture_show_behind_parent = false
fill_texture_scale = 0.75
fill_texture_absolute_position = false
fill_texture_absolute_rotation = false
fill_texture_offset = Vector2(-105, 200)
fill_texture_angle_offset = 0.0
fill_mesh_offset = 0.0
render_offset = 0.0

[node name="LevelBase" instance=ExtResource("1_5tytn")]

[node name="MainCam" parent="." index="0"]
visible = false

[node name="Main" type="Node2D" parent="EntryPoints" index="0"]
position = Vector2(753, 1801)

[node name="Atrium" type="Node2D" parent="EntryPoints" index="1"]
position = Vector2(781, 23.9997)

[node name="CatacombsExit" type="Node2D" parent="EntryPoints" index="2"]
position = Vector2(-1540, 593)

[node name="Floor2" type="Node2D" parent="EntryPoints" index="3"]
position = Vector2(-841, 1221)

[node name="Objects" type="Node" parent="." index="6"]

[node name="Door1" type="Sprite2D" parent="Objects" index="0"]
position = Vector2(660, -195)
rotation = 0.00431952
scale = Vector2(2.33037, 2.33046)
texture = ExtResource("5_rq825")

[node name="TransitionScene" type="Area2D" parent="Objects/Door1" index="0"]
position = Vector2(-3.8114, 24.85)
scale = Vector2(0.429116, 0.429116)
collision_layer = 0
collision_mask = 2
script = ExtResource("6_i0y6h")
scene_name = "dungeon_1_atrium"
entry_point = "Atrium"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Objects/Door1/TransitionScene" index="0"]
position = Vector2(0.148266, -0.0689235)
shape = SubResource("RectangleShape2D_v16rf")

[node name="Door2" type="Sprite2D" parent="Objects" index="1"]
position = Vector2(-1742, 595)
rotation = -1.59209
scale = Vector2(2.33037, 2.33037)
texture = ExtResource("5_rq825")

[node name="TransitionScene" type="Area2D" parent="Objects/Door2" index="0"]
position = Vector2(-2.30084, 27.4207)
scale = Vector2(0.429116, 0.429116)
collision_layer = 0
collision_mask = 2
script = ExtResource("6_i0y6h")
scene_name = "dungeon_1_catacombs_final"
entry_point = "CatacombsExit"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Objects/Door2/TransitionScene" index="0"]
position = Vector2(-1.38089, -0.312713)
shape = SubResource("RectangleShape2D_v16rf")

[node name="Door3" type="Sprite2D" parent="Objects" index="2"]
position = Vector2(-837, 1428)
rotation = 3.12988
scale = Vector2(2.33037, 2.33046)
texture = ExtResource("5_rq825")

[node name="TransitionScene" type="Area2D" parent="Objects/Door3" index="0"]
position = Vector2(-2.02795, 26.5823)
scale = Vector2(0.429116, 0.429116)
collision_layer = 0
collision_mask = 2
script = ExtResource("6_i0y6h")
scene_name = "dungeon_1_floor2_entrance"
entry_point = "Floor2Entrance"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Objects/Door3/TransitionScene" index="0"]
position = Vector2(0.239576, -0.159111)
shape = SubResource("RectangleShape2D_v16rf")

[node name="Floors" type="Node" parent="." index="7"]

[node name="Floor" type="Node2D" parent="Floors" index="0"]
script = ExtResource("7_xlq6s")
_points = SubResource("Resource_cwgnq")
shape_material = SubResource("Resource_ptudl")

[node name="Walls" type="Node" parent="." index="8"]

[node name="BreakableObject" parent="." index="9" instance=ExtResource("13_8n2w6")]
position = Vector2(-312, 572)
rotation = 0.0143048
scale = Vector2(3.30836, 1.98472)
pickup_drop_chance = 0.0
breakable_by = 2

[node name="TextEdit" type="TextEdit" parent="." index="11"]
offset_left = 1554.0
offset_top = 36.0
offset_right = 2415.0
offset_bottom = 421.0
theme_override_font_sizes/font_size = 80
text = "Hidden room will be here after miniboss/leaving catacombs"
editable = false
wrap_mode = 1

[connection signal="body_entered" from="Objects/Door1/TransitionScene" to="Objects/Door1/TransitionScene" method="_on_body_entered"]
[connection signal="body_entered" from="Objects/Door2/TransitionScene" to="Objects/Door2/TransitionScene" method="_on_body_entered"]
[connection signal="body_entered" from="Objects/Door3/TransitionScene" to="Objects/Door3/TransitionScene" method="_on_body_entered"]

[gd_scene load_steps=82 format=3 uid="uid://c2rpkoxgxueyv"]

[ext_resource type="PackedScene" uid="uid://cnd06dpkgufe4" path="res://world/level_base.tscn" id="1_g5fdv"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/shape_closed.gd" id="2_m8dku"]
[ext_resource type="Texture2D" uid="uid://dc4pcxr2lfkka" path="res://demo_art/dungeon_entrance.png" id="2_qbits"]
[ext_resource type="Script" path="res://addons/rmsmartshape/vertex_properties.gd" id="3_doqq6"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/point.gd" id="4_jvuc4"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/point_array.gd" id="5_omku4"]
[ext_resource type="Script" path="res://addons/rmsmartshape/materials/edge_material_metadata.gd" id="6_gs03k"]
[ext_resource type="Script" path="res://addons/rmsmartshape/materials/shape_material.gd" id="7_vwmgn"]
[ext_resource type="Script" path="res://addons/rmsmartshape/materials/edge_material.gd" id="8_ej5wu"]
[ext_resource type="PackedScene" uid="uid://bwo5q4wroaigc" path="res://world/interactable/transition_trigger/transition_trigger.tscn" id="9_227yj"]
[ext_resource type="Texture2D" uid="uid://v54e4tmx6wf7" path="res://dialogic_example/level_example_textures/pond_edge.png" id="9_n05oj"]
[ext_resource type="Script" path="res://addons/rmsmartshape/normal_range.gd" id="10_isva7"]
[ext_resource type="Texture2D" uid="uid://j28iyvy1k4vq" path="res://dialogic_example/level_example_textures/pond_fill.png" id="11_hujqt"]
[ext_resource type="Texture2D" uid="uid://636bjd84igwe" path="res://dialogic_example/level_example_textures/hole_fill.png" id="12_o3lud"]

[sub_resource type="Resource" id="Resource_dx7d5"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_rplb6"]
script = ExtResource("4_jvuc4")
position = Vector2(-944, -360)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_dx7d5")

[sub_resource type="Resource" id="Resource_g4xmc"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_4557v"]
script = ExtResource("4_jvuc4")
position = Vector2(-960, 1112)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_g4xmc")

[sub_resource type="Resource" id="Resource_lsq3x"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_13sj8"]
script = ExtResource("4_jvuc4")
position = Vector2(472, 1120)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_lsq3x")

[sub_resource type="Resource" id="Resource_jq1dc"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_k5d7y"]
script = ExtResource("4_jvuc4")
position = Vector2(472, 976)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_jq1dc")

[sub_resource type="Resource" id="Resource_3ygum"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_1b0ie"]
script = ExtResource("4_jvuc4")
position = Vector2(-720, 984)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_3ygum")

[sub_resource type="Resource" id="Resource_n86sw"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_c04fx"]
script = ExtResource("4_jvuc4")
position = Vector2(-696, -216)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_n86sw")

[sub_resource type="Resource" id="Resource_um0of"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_3py77"]
script = ExtResource("4_jvuc4")
position = Vector2(488, -216)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_um0of")

[sub_resource type="Resource" id="Resource_qd7nk"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_yjhkx"]
script = ExtResource("4_jvuc4")
position = Vector2(480, -400)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_qd7nk")

[sub_resource type="Resource" id="Resource_qf3t3"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_tx88q"]
script = ExtResource("4_jvuc4")
position = Vector2(-944, -360)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_qf3t3")

[sub_resource type="Resource" id="Resource_1fh0m"]
script = ExtResource("5_omku4")
_points = {
0: SubResource("Resource_rplb6"),
1: SubResource("Resource_4557v"),
2: SubResource("Resource_13sj8"),
3: SubResource("Resource_k5d7y"),
4: SubResource("Resource_1b0ie"),
5: SubResource("Resource_c04fx"),
6: SubResource("Resource_3py77"),
7: SubResource("Resource_yjhkx"),
8: SubResource("Resource_tx88q")
}
_point_order = PackedInt32Array(8, 7, 6, 5, 4, 3, 2, 1, 0)
_constraints = {
Vector2i(0, 8): 15
}
_next_key = 10
_material_overrides = {}
tessellation_stages = 3
tessellation_tolerance = 6.0
curve_bake_interval = 20.0

[sub_resource type="Resource" id="Resource_gwsbs"]
script = ExtResource("7_vwmgn")
_edge_meta_materials = Array[ExtResource("6_gs03k")]([])
fill_textures = Array[Texture2D]([])
fill_texture_z_index = -10
fill_texture_show_behind_parent = false
fill_texture_scale = 1.0
fill_texture_absolute_position = false
fill_texture_absolute_rotation = false
fill_texture_offset = Vector2(0, 0)
fill_texture_angle_offset = 0.0
fill_mesh_offset = 0.0
render_offset = 0.0

[sub_resource type="Resource" id="Resource_il0bu"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_pl4qq"]
script = ExtResource("4_jvuc4")
position = Vector2(744, 976)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_il0bu")

[sub_resource type="Resource" id="Resource_mdhxh"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_dhvjm"]
script = ExtResource("4_jvuc4")
position = Vector2(2064, 976)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_mdhxh")

[sub_resource type="Resource" id="Resource_ydsaq"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_1vrkd"]
script = ExtResource("4_jvuc4")
position = Vector2(2032, -216)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_ydsaq")

[sub_resource type="Resource" id="Resource_xdlbu"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_htk0f"]
script = ExtResource("4_jvuc4")
position = Vector2(680, -208)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_xdlbu")

[sub_resource type="Resource" id="Resource_ciis0"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_1vtb1"]
script = ExtResource("4_jvuc4")
position = Vector2(680, -408)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_ciis0")

[sub_resource type="Resource" id="Resource_v4gd0"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_3apj6"]
script = ExtResource("4_jvuc4")
position = Vector2(2208, -400)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_v4gd0")

[sub_resource type="Resource" id="Resource_sw2kt"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_kdrsx"]
script = ExtResource("4_jvuc4")
position = Vector2(2192, 1120)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_sw2kt")

[sub_resource type="Resource" id="Resource_6mkps"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_ccg1s"]
script = ExtResource("4_jvuc4")
position = Vector2(768, 1120)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_6mkps")

[sub_resource type="Resource" id="Resource_snp4m"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_x80y0"]
script = ExtResource("4_jvuc4")
position = Vector2(744, 976)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_snp4m")

[sub_resource type="Resource" id="Resource_0eoie"]
script = ExtResource("5_omku4")
_points = {
0: SubResource("Resource_pl4qq"),
1: SubResource("Resource_dhvjm"),
2: SubResource("Resource_1vrkd"),
3: SubResource("Resource_htk0f"),
4: SubResource("Resource_1vtb1"),
5: SubResource("Resource_3apj6"),
6: SubResource("Resource_kdrsx"),
7: SubResource("Resource_ccg1s"),
8: SubResource("Resource_x80y0")
}
_point_order = PackedInt32Array(0, 1, 2, 3, 4, 5, 6, 7, 8)
_constraints = {
Vector2i(0, 8): 15
}
_next_key = 10
_material_overrides = {}
tessellation_stages = 3
tessellation_tolerance = 6.0
curve_bake_interval = 20.0

[sub_resource type="Resource" id="Resource_7k6hc"]
script = ExtResource("7_vwmgn")
_edge_meta_materials = Array[ExtResource("6_gs03k")]([])
fill_textures = Array[Texture2D]([])
fill_texture_z_index = -10
fill_texture_show_behind_parent = false
fill_texture_scale = 1.0
fill_texture_absolute_position = false
fill_texture_absolute_rotation = false
fill_texture_offset = Vector2(0, 0)
fill_texture_angle_offset = 0.0
fill_mesh_offset = 0.0
render_offset = 0.0

[sub_resource type="Resource" id="Resource_vsank"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_m1201"]
script = ExtResource("4_jvuc4")
position = Vector2(-677, 280)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_vsank")

[sub_resource type="Resource" id="Resource_y3we0"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_7x6bp"]
script = ExtResource("4_jvuc4")
position = Vector2(-685, 488)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_y3we0")

[sub_resource type="Resource" id="Resource_miuqc"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_wvtl0"]
script = ExtResource("4_jvuc4")
position = Vector2(2035, 488)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_miuqc")

[sub_resource type="Resource" id="Resource_n15f8"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_cslf6"]
script = ExtResource("4_jvuc4")
position = Vector2(2027, 272)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_n15f8")

[sub_resource type="Resource" id="Resource_pr2mt"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_my500"]
script = ExtResource("4_jvuc4")
position = Vector2(-677, 280)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_pr2mt")

[sub_resource type="Resource" id="Resource_48mj3"]
script = ExtResource("5_omku4")
_points = {
0: SubResource("Resource_m1201"),
1: SubResource("Resource_7x6bp"),
2: SubResource("Resource_wvtl0"),
3: SubResource("Resource_cslf6"),
4: SubResource("Resource_my500")
}
_point_order = PackedInt32Array(4, 3, 2, 1, 0)
_constraints = {
Vector2i(0, 4): 15
}
_next_key = 6
_material_overrides = {}
tessellation_stages = 3
tessellation_tolerance = 6.0
curve_bake_interval = 20.0

[sub_resource type="Resource" id="Resource_qaks6"]
script = ExtResource("7_vwmgn")
_edge_meta_materials = Array[ExtResource("6_gs03k")]([])
fill_textures = Array[Texture2D]([ExtResource("12_o3lud")])
fill_texture_z_index = -10
fill_texture_show_behind_parent = false
fill_texture_scale = 1.0
fill_texture_absolute_position = false
fill_texture_absolute_rotation = false
fill_texture_offset = Vector2(0, 0)
fill_texture_angle_offset = 0.0
fill_mesh_offset = 0.0
render_offset = 0.0

[sub_resource type="Resource" id="Resource_weyej"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_fg5d2"]
script = ExtResource("4_jvuc4")
position = Vector2(-696, -200)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_weyej")

[sub_resource type="Resource" id="Resource_4phb8"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_57yie"]
script = ExtResource("4_jvuc4")
position = Vector2(-712, 960)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_4phb8")

[sub_resource type="Resource" id="Resource_tl1p0"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_6wfej"]
script = ExtResource("4_jvuc4")
position = Vector2(2056, 960)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_tl1p0")

[sub_resource type="Resource" id="Resource_ee3af"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_tnm2q"]
script = ExtResource("4_jvuc4")
position = Vector2(2024, -208)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_ee3af")

[sub_resource type="Resource" id="Resource_bxso2"]
script = ExtResource("3_doqq6")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_opdkq"]
script = ExtResource("4_jvuc4")
position = Vector2(-696, -200)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_bxso2")

[sub_resource type="Resource" id="Resource_oybyt"]
script = ExtResource("5_omku4")
_points = {
0: SubResource("Resource_fg5d2"),
1: SubResource("Resource_57yie"),
2: SubResource("Resource_6wfej"),
3: SubResource("Resource_tnm2q"),
4: SubResource("Resource_opdkq")
}
_point_order = PackedInt32Array(4, 3, 2, 1, 0)
_constraints = {
Vector2i(0, 4): 15
}
_next_key = 8
_material_overrides = {}
tessellation_stages = 3
tessellation_tolerance = 6.0
curve_bake_interval = 20.0

[sub_resource type="Resource" id="Resource_vtnh8"]
script = ExtResource("8_ej5wu")
textures = Array[Texture2D]([ExtResource("9_n05oj")])
textures_corner_outer = Array[Texture2D]([])
textures_corner_inner = Array[Texture2D]([])
textures_taper_left = Array[Texture2D]([])
textures_taper_right = Array[Texture2D]([])
textures_taper_corner_left = Array[Texture2D]([])
textures_taper_corner_right = Array[Texture2D]([])
randomize_texture = false
use_corner_texture = false
use_taper_texture = true
fit_mode = 0

[sub_resource type="Resource" id="Resource_en2qp"]
script = ExtResource("10_isva7")
begin = 0.0
distance = 360.0
edgeRendering = Vector2(0, 0)

[sub_resource type="Resource" id="Resource_x1sqo"]
script = ExtResource("6_gs03k")
edge_material = SubResource("Resource_vtnh8")
normal_range = SubResource("Resource_en2qp")
weld = true
taper_sharp_corners = false
render = true
z_index = 0
z_as_relative = true
offset = 0.0

[sub_resource type="Resource" id="Resource_mcc7d"]
script = ExtResource("7_vwmgn")
_edge_meta_materials = Array[ExtResource("6_gs03k")]([SubResource("Resource_x1sqo")])
fill_textures = Array[Texture2D]([ExtResource("11_hujqt")])
fill_texture_z_index = -10
fill_texture_show_behind_parent = false
fill_texture_scale = 1.0
fill_texture_absolute_position = false
fill_texture_absolute_rotation = false
fill_texture_offset = Vector2(0, 0)
fill_texture_angle_offset = 0.0
fill_mesh_offset = 0.0
render_offset = 0.0

[node name="LevelBase2" instance=ExtResource("1_g5fdv")]

[node name="Spawn" type="Node2D" parent="EntryPoints" index="0"]
position = Vector2(608, 800)

[node name="Hub_Room" type="Node2D" parent="EntryPoints" index="1"]
position = Vector2(576, -32)

[node name="Player" parent="." index="5"]
position = Vector2(605, 804)

[node name="DungeonEntrance" type="Sprite2D" parent="." index="6"]
position = Vector2(584, -128)
texture = ExtResource("2_qbits")

[node name="DungeonEntrance2" type="Sprite2D" parent="." index="7"]
position = Vector2(670, 901)
texture = ExtResource("2_qbits")

[node name="Walls" type="Node" parent="." index="8"]

[node name="StaticBody2D" type="StaticBody2D" parent="Walls" index="0"]

[node name="SS2D_Shape_Closed" type="Node2D" parent="Walls/StaticBody2D" index="0"]
script = ExtResource("2_m8dku")
_points = SubResource("Resource_1fh0m")
shape_material = SubResource("Resource_gwsbs")
collision_polygon_node_path = NodePath("../CollisionPolygon2D")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Walls/StaticBody2D" index="1"]
visible = false
modulate = Color(1, 1, 1, 0.3)
polygon = PackedVector2Array(-944, -360, 480, -400, 488, -216, -696, -216, -720, 984, 472, 976, 472, 1120, -960, 1112, -944, -360)

[node name="StaticBody2D2" type="StaticBody2D" parent="Walls" index="1"]

[node name="SS2D_Shape_Closed" type="Node2D" parent="Walls/StaticBody2D2" index="0"]
script = ExtResource("2_m8dku")
_points = SubResource("Resource_0eoie")
shape_material = SubResource("Resource_7k6hc")
collision_polygon_node_path = NodePath("../CollisionPolygon2D")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Walls/StaticBody2D2" index="1"]
visible = false
modulate = Color(1, 1, 1, 0.3)
polygon = PackedVector2Array(744, 976, 2064, 976, 2032, -216, 680, -208, 680, -408, 2208, -400, 2192, 1120, 768, 1120, 744, 976)

[node name="TransitionScene" parent="Walls/StaticBody2D2" index="2" instance=ExtResource("9_227yj")]
position = Vector2(584, -104)
scale = Vector2(5.18742, 2.915)
scene_name = "hub_room"
entry_point = "Entrance"

[node name="River" type="StaticBody2D" parent="." index="9"]
position = Vector2(-7, 335)
scale = Vector2(1, 0.6)
collision_layer = 8

[node name="SS2D_Shape_Closed" type="Node2D" parent="River" index="0"]
script = ExtResource("2_m8dku")
_points = SubResource("Resource_48mj3")
shape_material = SubResource("Resource_qaks6")
collision_polygon_node_path = NodePath("../CollisionPolygon2D")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="River" index="1"]
visible = false
modulate = Color(1, 1, 1, 0.3)
polygon = PackedVector2Array(-677, 280, 2027, 272, 2035, 488, -685, 488, -677, 280)

[node name="River2" type="StaticBody2D" parent="." index="10"]
z_index = 2
position = Vector2(-12, -66)
scale = Vector2(1, 0.68)
collision_layer = 8

[node name="SS2D_Shape_Closed" type="Node2D" parent="River2" index="0"]
script = ExtResource("2_m8dku")
_points = SubResource("Resource_48mj3")
shape_material = SubResource("Resource_qaks6")
collision_polygon_node_path = NodePath("../CollisionPolygon2D")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="River2" index="1"]
visible = false
modulate = Color(1, 1, 1, 0.3)
polygon = PackedVector2Array(-677, 280, 2027, 272, 2035, 488, -685, 488, -677, 280)

[node name="Floor" type="StaticBody2D" parent="." index="11"]

[node name="SS2D_Shape_Closed" type="Node2D" parent="Floor" index="0"]
script = ExtResource("2_m8dku")
_points = SubResource("Resource_oybyt")
shape_material = SubResource("Resource_mcc7d")

[gd_scene load_steps=57 format=3 uid="uid://bobkbrrhotrgp"]

[ext_resource type="PackedScene" uid="uid://cnd06dpkgufe4" path="res://world/levels/level_base.tscn" id="1_5sjwr"]
[ext_resource type="PackedScene" uid="uid://bwo5q4wroaigc" path="res://world/interactable/transition_trigger/transition_trigger.tscn" id="3_i3v6t"]
[ext_resource type="PackedScene" uid="uid://duhvhegf6byvr" path="res://enemy/spawner_enemy/spawner_enemy.tscn" id="4_rombg"]
[ext_resource type="PackedScene" uid="uid://bs6o5glcfe2as" path="res://enemy/projectile_enemy/projectile_enemy.tscn" id="5_bm86m"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/shape_closed.gd" id="7_l3w2v"]
[ext_resource type="Script" path="res://addons/rmsmartshape/vertex_properties.gd" id="8_prg6y"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/point.gd" id="9_tamhd"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/point_array.gd" id="10_f22og"]
[ext_resource type="Resource" uid="uid://6wcd4668mjsi" path="res://world/smart_shapes/grass/grass_grove.tres" id="10_wvh0h"]
[ext_resource type="Script" path="res://world/decoration/trees/tree_gen.gd" id="13_padmh"]
[ext_resource type="PackedScene" uid="uid://lwuwqeygvnpx" path="res://world/decoration/trees/weeping_tree.tscn" id="14_u7jkl"]
[ext_resource type="PackedScene" uid="uid://dxchr34htjrt3" path="res://arena_room/arena_room.tscn" id="15_1y7ji"]
[ext_resource type="PackedScene" uid="uid://cy3ubw4jghdvi" path="res://world/decoration/crystal/crystal_blue.tscn" id="15_lypk8"]
[ext_resource type="Texture2D" uid="uid://b350jwt2tgchl" path="res://addons/rmsmartshape/assets/light1-1.png" id="16_6lcmc"]
[ext_resource type="PackedScene" uid="uid://doilpvge0y7f5" path="res://world/decoration/crystal/crystal_blue_collidable.tscn" id="16_beldr"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/shape.gd" id="16_bfqga"]
[ext_resource type="Resource" uid="uid://c7fgg0kcdqit0" path="res://world/smart_shapes/shadow/shadow.tres" id="17_b0ym7"]
[ext_resource type="PackedScene" uid="uid://crqa73o8ye5uo" path="res://world/interactable/pickups/keys/pickup_boss_key.tscn" id="18_gwud2"]

[sub_resource type="Resource" id="Resource_lgkjt"]
script = ExtResource("8_prg6y")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_1xbxg"]
script = ExtResource("9_tamhd")
position = Vector2(-1248.86, -1039.55)
point_in = Vector2(-191.724, 184.997)
point_out = Vector2(191.724, -184.997)
properties = SubResource("Resource_lgkjt")

[sub_resource type="Resource" id="Resource_4v6ga"]
script = ExtResource("8_prg6y")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_6s6jl"]
script = ExtResource("9_tamhd")
position = Vector2(-1132.51, 1442.8)
point_in = Vector2(141.271, 144.634)
point_out = Vector2(-141.271, -144.634)
properties = SubResource("Resource_4v6ga")

[sub_resource type="Resource" id="Resource_ql2f4"]
script = ExtResource("8_prg6y")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_b1snp"]
script = ExtResource("9_tamhd")
position = Vector2(3039, 1365.51)
point_in = Vector2(147.998, -158.089)
point_out = Vector2(-147.998, 158.089)
properties = SubResource("Resource_ql2f4")

[sub_resource type="Resource" id="Resource_fchmr"]
script = ExtResource("8_prg6y")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_0x0vn"]
script = ExtResource("9_tamhd")
position = Vector2(3144.63, -1157.49)
point_in = Vector2(-134.543, -124.453)
point_out = Vector2(134.543, 124.453)
properties = SubResource("Resource_fchmr")

[sub_resource type="Resource" id="Resource_j4mfm"]
script = ExtResource("8_prg6y")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_t3bji"]
script = ExtResource("9_tamhd")
position = Vector2(-1248.86, -1039.55)
point_in = Vector2(-191.724, 184.997)
point_out = Vector2(191.724, -184.997)
properties = SubResource("Resource_j4mfm")

[sub_resource type="Resource" id="Resource_kfevg"]
script = ExtResource("10_f22og")
_points = {
0: SubResource("Resource_1xbxg"),
1: SubResource("Resource_6s6jl"),
2: SubResource("Resource_b1snp"),
3: SubResource("Resource_0x0vn"),
4: SubResource("Resource_t3bji")
}
_point_order = PackedInt32Array(4, 3, 2, 1, 0)
_constraints = {
Vector2i(4, 0): 15
}
_next_key = 7
_material_overrides = {}
tessellation_stages = 3
tessellation_tolerance = 6.0
curve_bake_interval = 20.0

[sub_resource type="Resource" id="Resource_jxr0f"]
script = ExtResource("8_prg6y")
texture_idx = 1
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_qw2og"]
script = ExtResource("9_tamhd")
position = Vector2(1290.47, -323.969)
point_in = Vector2(437.958, 33.9795)
point_out = Vector2(-437.958, -33.9795)
properties = SubResource("Resource_jxr0f")

[sub_resource type="Resource" id="Resource_6ds4d"]
script = ExtResource("8_prg6y")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_4thp5"]
script = ExtResource("9_tamhd")
position = Vector2(69.7343, -334.78)
point_in = Vector2(98.163, -177.448)
point_out = Vector2(-98.163, 177.448)
properties = SubResource("Resource_6ds4d")

[sub_resource type="Resource" id="Resource_qnx7u"]
script = ExtResource("8_prg6y")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_tgmj3"]
script = ExtResource("9_tamhd")
position = Vector2(95.1614, 644.164)
point_in = Vector2(-196.326, -169.897)
point_out = Vector2(196.326, 169.897)
properties = SubResource("Resource_qnx7u")

[sub_resource type="Resource" id="Resource_qg5oy"]
script = ExtResource("8_prg6y")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_f0ywj"]
script = ExtResource("9_tamhd")
position = Vector2(1494.04, 596.008)
point_in = Vector2(-252.958, 135.918)
point_out = Vector2(252.958, -135.918)
properties = SubResource("Resource_qg5oy")

[sub_resource type="Resource" id="Resource_piin8"]
script = ExtResource("9_tamhd")
position = Vector2(1290.47, -323.969)
point_in = Vector2(437.958, 33.9795)
point_out = Vector2(-437.958, -33.9795)
properties = SubResource("Resource_jxr0f")

[sub_resource type="Resource" id="Resource_on2md"]
script = ExtResource("8_prg6y")
texture_idx = -1
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_c1jha"]
script = ExtResource("9_tamhd")
position = Vector2(2068.24, 86.4252)
point_in = Vector2(228.724, -40.363)
point_out = Vector2(-417.084, 63.9081)
properties = SubResource("Resource_on2md")

[sub_resource type="Resource" id="Resource_83crr"]
script = ExtResource("8_prg6y")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_twsnv"]
script = ExtResource("9_tamhd")
position = Vector2(2014.42, 204.151)
point_in = Vector2(-306.086, 47.0901)
point_out = Vector2(114.362, -16.8179)
properties = SubResource("Resource_83crr")

[sub_resource type="Resource" id="Resource_0o8kj"]
script = ExtResource("8_prg6y")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_ix2yw"]
script = ExtResource("9_tamhd")
position = Vector2(2522.33, 46.0622)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_0o8kj")

[sub_resource type="Resource" id="Resource_dle2r"]
script = ExtResource("8_prg6y")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_lnr81"]
script = ExtResource("9_tamhd")
position = Vector2(2473.35, -868.009)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_dle2r")

[sub_resource type="Resource" id="Resource_vfrkm"]
script = ExtResource("8_prg6y")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_xg8a3"]
script = ExtResource("9_tamhd")
position = Vector2(-835.806, -724.851)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_vfrkm")

[sub_resource type="Resource" id="Resource_55opu"]
script = ExtResource("8_prg6y")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_xbope"]
script = ExtResource("9_tamhd")
position = Vector2(-905.652, 1268.93)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_55opu")

[sub_resource type="Resource" id="Resource_w77aa"]
script = ExtResource("8_prg6y")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_wcsac"]
script = ExtResource("9_tamhd")
position = Vector2(2408.84, 1275.28)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_w77aa")

[sub_resource type="Resource" id="Resource_kyep4"]
script = ExtResource("8_prg6y")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_alsx4"]
script = ExtResource("9_tamhd")
position = Vector2(2504.09, 145.045)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_kyep4")

[sub_resource type="Resource" id="Resource_613sp"]
script = ExtResource("10_f22og")
_points = {
0: SubResource("Resource_qw2og"),
1: SubResource("Resource_4thp5"),
2: SubResource("Resource_tgmj3"),
3: SubResource("Resource_f0ywj"),
5: SubResource("Resource_piin8"),
8: SubResource("Resource_c1jha"),
9: SubResource("Resource_twsnv"),
10: SubResource("Resource_ix2yw"),
11: SubResource("Resource_lnr81"),
12: SubResource("Resource_xg8a3"),
13: SubResource("Resource_xbope"),
14: SubResource("Resource_wcsac"),
15: SubResource("Resource_alsx4")
}
_point_order = PackedInt32Array(0, 1, 2, 3, 9, 15, 14, 13, 12, 11, 10, 8, 5)
_constraints = {
Vector2i(0, 5): 15
}
_next_key = 16
_material_overrides = {}
tessellation_stages = 3
tessellation_tolerance = 6.0
curve_bake_interval = 20.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_urxyl"]
size = Vector2(947, 1096)

[node name="LevelBase2" instance=ExtResource("1_5sjwr")]

[node name="MainCam" parent="." index="0"]
position = Vector2(160, -392)

[node name="TransitionScene" parent="." index="4" instance=ExtResource("3_i3v6t")]
position = Vector2(1814, 129)
scale = Vector2(8.84061, 22.798)
scene_name = "bottom_left_river"
entry_point = "MiniBoss"

[node name="Top_Left_River" type="Node2D" parent="EntryPoints" index="0"]
position = Vector2(1474, 109)

[node name="Player" parent="." index="6"]
position = Vector2(1373, 41)

[node name="Floor" type="Node2D" parent="." index="7"]
z_index = -10
position = Vector2(0, -8)
script = ExtResource("7_l3w2v")
_points = SubResource("Resource_kfevg")
shape_material = ExtResource("10_wvh0h")

[node name="pickup_key" parent="." index="9" instance=ExtResource("18_gwud2")]
position = Vector2(358, 74)

[node name="TreeGen" type="StaticBody2D" parent="." index="11"]
y_sort_enabled = true
script = ExtResource("13_padmh")
tree_scene = ExtResource("14_u7jkl")
secondary_tree_scene = ExtResource("15_lypk8")
secondary_tree_odds = 0.211
tree_interval = 231.203
randomness = 0.646

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="TreeGen" index="0"]
polygon = PackedVector2Array(1540, -152, 2080, 136, 2528, 87, 2555, -1328, -1307, -1171, -1219, 1574, 2225, 1534, 2528, 148, 2097, 188, 1440, 400, 1341, 658, 100, 655, 78, -358, 1322, -377)

[node name="PointLight2D" type="PointLight2D" parent="TreeGen" index="1"]
y_sort_enabled = true
position = Vector2(10, -123)
color = Color(0.74, 0.4, 1, 1)
energy = 0.5
texture = ExtResource("16_6lcmc")

[node name="Shadows" type="Node2D" parent="." index="12"]
z_index = 5
position = Vector2(-93, -93)
scale = Vector2(1.10404, 1.10404)

[node name="SS2D_Shape" type="Node2D" parent="Shadows" index="0"]
script = ExtResource("16_bfqga")
_points = SubResource("Resource_613sp")
shape_material = ExtResource("17_b0ym7")

[node name="SS2D_Shape2" type="Node2D" parent="Shadows" index="1"]
position = Vector2(-164, -35)
scale = Vector2(1.15694, 1.15694)
script = ExtResource("16_bfqga")
_points = SubResource("Resource_613sp")
shape_material = ExtResource("17_b0ym7")

[node name="SS2D_Shape3" type="Node2D" parent="Shadows" index="2"]
position = Vector2(-257, -49)
scale = Vector2(1.32297, 1.32297)
script = ExtResource("16_bfqga")
_points = SubResource("Resource_613sp")
shape_material = ExtResource("17_b0ym7")

[node name="CanvasModulate" type="CanvasModulate" parent="." index="13"]
color = Color(0.49, 0.49, 0.49, 1)

[node name="ArenaRoom" parent="." index="14" node_paths=PackedStringArray("door", "door_trigger") instance=ExtResource("15_1y7ji")]
door = NodePath("Door")
door_trigger = NodePath("DoorTrigger")

[node name="Door" type="Node2D" parent="ArenaRoom" index="0"]

[node name="CrystalCollidable" parent="ArenaRoom/Door" index="0" instance=ExtResource("16_beldr")]
position = Vector2(1646, 2)

[node name="CrystalCollidable2" parent="ArenaRoom/Door" index="1" instance=ExtResource("16_beldr")]
position = Vector2(1599, 101)

[node name="CrystalCollidable3" parent="ArenaRoom/Door" index="2" instance=ExtResource("16_beldr")]
position = Vector2(1663, 190)

[node name="CrystalCollidable4" parent="ArenaRoom/Door" index="3" instance=ExtResource("16_beldr")]
position = Vector2(1636, 291)

[node name="DoorTrigger" type="Area2D" parent="ArenaRoom" index="1"]
position = Vector2(638, 102)
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="ArenaRoom/DoorTrigger" index="0"]
position = Vector2(-130.5, 0)
shape = SubResource("RectangleShape2D_urxyl")

[node name="SpawnerEnemy" parent="ArenaRoom" index="2" instance=ExtResource("4_rombg")]
position = Vector2(780, -96)

[node name="SpawnerEnemy2" parent="ArenaRoom" index="3" instance=ExtResource("4_rombg")]
position = Vector2(768, 166)

[node name="ProjectileEnemy" parent="ArenaRoom" index="4" instance=ExtResource("5_bm86m")]
position = Vector2(611, 25)

[node name="Crystal" type="Node2D" parent="." index="15"]

[node name="CrystalCollidable" parent="Crystal" index="0" instance=ExtResource("16_beldr")]
position = Vector2(323, -199)

[node name="CrystalCollidable2" parent="Crystal" index="1" instance=ExtResource("16_beldr")]
position = Vector2(668, 552)

[node name="CrystalCollidable3" parent="Crystal" index="2" instance=ExtResource("16_beldr")]
position = Vector2(1028, -191)

[gd_scene load_steps=63 format=3 uid="uid://c524o5liagn6p"]

[ext_resource type="PackedScene" uid="uid://cnd06dpkgufe4" path="res://world/levels/level_base.tscn" id="1_da5dc"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/shape_closed.gd" id="2_0jbg1"]
[ext_resource type="PackedScene" uid="uid://bs6o5glcfe2as" path="res://enemy/projectile_enemy/projectile_enemy.tscn" id="2_k4826"]
[ext_resource type="Script" path="res://addons/rmsmartshape/vertex_properties.gd" id="3_rofdr"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/point.gd" id="4_ggu4g"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/point_array.gd" id="5_jg3we"]
[ext_resource type="Resource" uid="uid://6wcd4668mjsi" path="res://world/smart_shapes/grass/grass_grove.tres" id="6_8d0cg"]
[ext_resource type="Script" path="res://addons/rmsmartshape/shapes/shape.gd" id="12_mvpvx"]
[ext_resource type="PackedScene" uid="uid://dxchr34htjrt3" path="res://arena_room/arena_room.tscn" id="14_uo1x1"]
[ext_resource type="PackedScene" uid="uid://bimerg4hcbya2" path="res://enemy/charging_enemy/charging_enemy.tscn" id="15_4kr5x"]
[ext_resource type="PackedScene" uid="uid://doilpvge0y7f5" path="res://world/decoration/crystal/crystal_blue_collidable.tscn" id="15_7hc3s"]
[ext_resource type="Texture2D" uid="uid://b350jwt2tgchl" path="res://addons/rmsmartshape/assets/light1-1.png" id="16_8syyv"]
[ext_resource type="PackedScene" uid="uid://bwo5q4wroaigc" path="res://world/interactable/transition_trigger/transition_trigger.tscn" id="18_bmkdd"]
[ext_resource type="Resource" uid="uid://c7fgg0kcdqit0" path="res://world/smart_shapes/shadow/shadow.tres" id="18_lja2b"]
[ext_resource type="Script" path="res://world/decoration/trees/tree_gen.gd" id="20_3l1j5"]
[ext_resource type="PackedScene" uid="uid://lwuwqeygvnpx" path="res://world/decoration/trees/weeping_tree.tscn" id="21_e7fcg"]
[ext_resource type="PackedScene" uid="uid://cy3ubw4jghdvi" path="res://world/decoration/crystal/crystal_blue.tscn" id="22_j67wx"]

[sub_resource type="Resource" id="Resource_kdjrn"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_fg5d2"]
script = ExtResource("4_ggu4g")
position = Vector2(-1018.19, -835.635)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_kdjrn")

[sub_resource type="Resource" id="Resource_y2mtk"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_57yie"]
script = ExtResource("4_ggu4g")
position = Vector2(-1179.46, 1818.9)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_y2mtk")

[sub_resource type="Resource" id="Resource_pmm4k"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_6wfej"]
script = ExtResource("4_ggu4g")
position = Vector2(2542.81, 1946.97)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_pmm4k")

[sub_resource type="Resource" id="Resource_0la2s"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_tnm2q"]
script = ExtResource("4_ggu4g")
position = Vector2(2539.85, -785.238)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_0la2s")

[sub_resource type="Resource" id="Resource_troyo"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_opdkq"]
script = ExtResource("4_ggu4g")
position = Vector2(-1018.19, -835.635)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_troyo")

[sub_resource type="Resource" id="Resource_pq1il"]
script = ExtResource("5_jg3we")
_points = {
0: SubResource("Resource_fg5d2"),
1: SubResource("Resource_57yie"),
2: SubResource("Resource_6wfej"),
3: SubResource("Resource_tnm2q"),
4: SubResource("Resource_opdkq")
}
_point_order = PackedInt32Array(4, 3, 2, 1, 0)
_constraints = {
Vector2i(0, 4): 15
}
_next_key = 6
_material_overrides = {}
tessellation_stages = 3
tessellation_tolerance = 6.0
curve_bake_interval = 20.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jladt"]
size = Vector2(71.4, 20)

[sub_resource type="Resource" id="Resource_16of2"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_8whax"]
script = ExtResource("4_ggu4g")
position = Vector2(-51.1802, 507.035)
point_in = Vector2(-105.774, -120.475)
point_out = Vector2(105.774, 120.475)
properties = SubResource("Resource_16of2")

[sub_resource type="Resource" id="Resource_2x5j8"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_5vlva"]
script = ExtResource("4_ggu4g")
position = Vector2(1178.31, 541.273)
point_in = Vector2(-182.058, 104.188)
point_out = Vector2(182.058, -104.188)
properties = SubResource("Resource_2x5j8")

[sub_resource type="Resource" id="Resource_h3q7j"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_dhjx6"]
script = ExtResource("4_ggu4g")
position = Vector2(3050.24, -1345.61)
point_in = Vector2(49.9465, -111.786)
point_out = Vector2(-49.9465, 111.786)
properties = SubResource("Resource_h3q7j")

[sub_resource type="Resource" id="Resource_j36g6"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_xg3hp"]
script = ExtResource("4_ggu4g")
position = Vector2(2955.33, 1787.11)
point_in = Vector2(114.164, 88.0013)
point_out = Vector2(-114.164, -88.0013)
properties = SubResource("Resource_j36g6")

[sub_resource type="Resource" id="Resource_l5c44"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_4yb7b"]
script = ExtResource("4_ggu4g")
position = Vector2(-51.1802, 507.035)
point_in = Vector2(-105.774, -120.475)
point_out = Vector2(105.774, 120.475)
properties = SubResource("Resource_l5c44")

[sub_resource type="Resource" id="Resource_bet6j"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_il1r7"]
script = ExtResource("4_ggu4g")
position = Vector2(-87.4168, -131.273)
point_in = Vector2(93.7111, -126.538)
point_out = Vector2(-93.7111, 126.538)
properties = SubResource("Resource_bet6j")

[sub_resource type="Resource" id="Resource_kpfe0"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_lgryb"]
script = ExtResource("4_ggu4g")
position = Vector2(316.004, -369.547)
point_in = Vector2(105.833, -105.833)
point_out = Vector2(-105.833, 105.833)
properties = SubResource("Resource_kpfe0")

[sub_resource type="Resource" id="Resource_14vwy"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_05h7p"]
script = ExtResource("4_ggu4g")
position = Vector2(498.365, -1442.45)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_14vwy")

[sub_resource type="Resource" id="Resource_m0jto"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_a6rpd"]
script = ExtResource("4_ggu4g")
position = Vector2(-1534.04, -1385.1)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_m0jto")

[sub_resource type="Resource" id="Resource_u8sg5"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_iu5wy"]
script = ExtResource("4_ggu4g")
position = Vector2(-1534.04, 1714.31)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_u8sg5")

[sub_resource type="Resource" id="Resource_tuf1x"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_yncb4"]
script = ExtResource("4_ggu4g")
position = Vector2(683.907, -1460.61)
point_in = Vector2(0, 0)
point_out = Vector2(0, 0)
properties = SubResource("Resource_tuf1x")

[sub_resource type="Resource" id="Resource_c2wtr"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_ej1r2"]
script = ExtResource("4_ggu4g")
position = Vector2(723.124, -402.612)
point_in = Vector2(85.6746, 65.516)
point_out = Vector2(-85.6746, -65.516)
properties = SubResource("Resource_c2wtr")

[sub_resource type="Resource" id="Resource_hwx0f"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_gcrde"]
script = ExtResource("4_ggu4g")
position = Vector2(1286.1, -174.578)
point_in = Vector2(146.151, 125.992)
point_out = Vector2(-146.151, -125.992)
properties = SubResource("Resource_hwx0f")

[sub_resource type="Resource" id="Resource_yad1m"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_opx0k"]
script = ExtResource("4_ggu4g")
position = Vector2(682.608, 662.173)
point_in = Vector2(-57.1465, 79.37)
point_out = Vector2(57.1465, -79.37)
properties = SubResource("Resource_yad1m")

[sub_resource type="Resource" id="Resource_83xdt"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_bj2fx"]
script = ExtResource("4_ggu4g")
position = Vector2(518.812, 877.05)
point_in = Vector2(-65.6867, -4.23779)
point_out = Vector2(65.6867, 4.23779)
properties = SubResource("Resource_83xdt")

[sub_resource type="Resource" id="Resource_5r5hl"]
script = ExtResource("3_rofdr")
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id="Resource_mkevc"]
script = ExtResource("4_ggu4g")
position = Vector2(358.778, 639.95)
point_in = Vector2(-85.7196, -92.0692)
point_out = Vector2(85.7196, 92.0692)
properties = SubResource("Resource_5r5hl")

[sub_resource type="Resource" id="Resource_r0ac3"]
script = ExtResource("5_jg3we")
_points = {
0: SubResource("Resource_8whax"),
1: SubResource("Resource_5vlva"),
2: SubResource("Resource_dhjx6"),
3: SubResource("Resource_xg3hp"),
4: SubResource("Resource_4yb7b"),
5: SubResource("Resource_il1r7"),
6: SubResource("Resource_lgryb"),
7: SubResource("Resource_05h7p"),
8: SubResource("Resource_a6rpd"),
9: SubResource("Resource_iu5wy"),
10: SubResource("Resource_yncb4"),
11: SubResource("Resource_ej1r2"),
12: SubResource("Resource_gcrde"),
13: SubResource("Resource_opx0k"),
14: SubResource("Resource_bj2fx"),
16: SubResource("Resource_mkevc")
}
_point_order = PackedInt32Array(0, 16, 14, 13, 1, 12, 11, 10, 2, 3, 9, 8, 7, 6, 5, 4)
_constraints = {
Vector2i(0, 4): 15
}
_next_key = 17
_material_overrides = {}
tessellation_stages = 3
tessellation_tolerance = 6.0
curve_bake_interval = 20.0

[node name="LevelBase" instance=ExtResource("1_da5dc")]

[node name="Entrance" type="Node2D" parent="EntryPoints" index="0"]
position = Vector2(537, 767)

[node name="Dog_Roll_Room" type="Node2D" parent="EntryPoints" index="1"]
position = Vector2(584, 24)

[node name="Player" parent="." index="5"]
position = Vector2(688, 264)

[node name="Floor" type="Node2D" parent="." index="6"]
z_index = -10
script = ExtResource("2_0jbg1")
_points = SubResource("Resource_pq1il")
shape_material = ExtResource("6_8d0cg")

[node name="ArenaRoom" parent="." index="7" node_paths=PackedStringArray("door", "door_trigger") instance=ExtResource("14_uo1x1")]
position = Vector2(568, 328)
door = NodePath("Door")
door_trigger = NodePath("DoorTrigger")

[node name="ChargingEnemy" parent="ArenaRoom" index="0" instance=ExtResource("15_4kr5x")]
position = Vector2(488, -112)

[node name="ChargingEnemy2" parent="ArenaRoom" index="1" instance=ExtResource("15_4kr5x")]
position = Vector2(-280, -112)
rotation = 0.448441

[node name="ProjectileEnemy" parent="ArenaRoom" index="2" instance=ExtResource("2_k4826")]
position = Vector2(-392, 72)

[node name="ProjectileEnemy2" parent="ArenaRoom" index="3" instance=ExtResource("2_k4826")]
position = Vector2(456, 40)
rotation = -0.0130229

[node name="DoorTrigger" type="Area2D" parent="ArenaRoom" index="4"]
unique_name_in_owner = true
position = Vector2(8, -16)
scale = Vector2(40, 1)
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="ArenaRoom/DoorTrigger" index="0"]
unique_name_in_owner = true
position = Vector2(2, 24)
shape = SubResource("RectangleShape2D_jladt")
debug_color = Color(0.951762, 3.27289e-06, 0.562032, 0.42)

[node name="Door" type="Node2D" parent="ArenaRoom" index="5"]
y_sort_enabled = true

[node name="CrystalCollidable" parent="ArenaRoom/Door" index="0" instance=ExtResource("15_7hc3s")]
position = Vector2(-168, -338)

[node name="CrystalCollidable5" parent="ArenaRoom/Door" index="1" instance=ExtResource("15_7hc3s")]
position = Vector2(-185, -468)

[node name="CrystalCollidable2" parent="ArenaRoom/Door" index="2" instance=ExtResource("15_7hc3s")]
position = Vector2(-41, -285)

[node name="CrystalCollidable3" parent="ArenaRoom/Door" index="3" instance=ExtResource("15_7hc3s")]
position = Vector2(113, -331)

[node name="CrystalCollidable4" parent="ArenaRoom/Door" index="4" instance=ExtResource("15_7hc3s")]
position = Vector2(188, -430)

[node name="CrystalCollidable6" parent="ArenaRoom/Door" index="5" instance=ExtResource("15_7hc3s")]
position = Vector2(88, 493)

[node name="CrystalCollidable7" parent="ArenaRoom/Door" index="6" instance=ExtResource("15_7hc3s")]
position = Vector2(-38, 447)

[node name="CrystalCollidable8" parent="ArenaRoom/Door" index="7" instance=ExtResource("15_7hc3s")]
position = Vector2(-169, 525)

[node name="OuterTreeGen" type="StaticBody2D" parent="." index="10"]
y_sort_enabled = true
script = ExtResource("20_3l1j5")
seed = 20
tree_scene = ExtResource("21_e7fcg")
secondary_tree_scene = ExtResource("22_j67wx")
secondary_tree_odds = 0.426
tree_interval = 237.884
randomness = 0.331

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="OuterTreeGen" index="0"]
polygon = PackedVector2Array(93, -26, -32, 200, -97, 446, 3, 725, 403, 815, 420, 1262, 576, 1252, 660, 826, 896, 808, 1193, 703, 1332, 392, 1289, 112, 1074, -97, 907, -142, 660, -153, 627, -755, 2399, -748, 2324, 1705, -1127, 1658, -1122, -795, 411, -768, 422, -126)

[node name="PointLight2D" type="PointLight2D" parent="OuterTreeGen" index="1"]
position = Vector2(-38, -76)
color = Color(0.411765, 1, 1, 1)
energy = 0.4
texture = ExtResource("16_8syyv")

[node name="PointLight2D2" type="PointLight2D" parent="OuterTreeGen" index="2"]
position = Vector2(285, 866)
color = Color(0.411765, 1, 1, 1)
energy = 0.4
texture = ExtResource("16_8syyv")

[node name="PointLight2D3" type="PointLight2D" parent="OuterTreeGen" index="3"]
position = Vector2(872, 826)
color = Color(0.411765, 1, 1, 1)
energy = 0.4
texture = ExtResource("16_8syyv")

[node name="PointLight2D4" type="PointLight2D" parent="OuterTreeGen" index="4"]
position = Vector2(1526, 207)
color = Color(0.411765, 1, 1, 1)
energy = 0.4
texture = ExtResource("16_8syyv")

[node name="PointLight2D5" type="PointLight2D" parent="OuterTreeGen" index="5"]
position = Vector2(1481, -17)
color = Color(0.411765, 1, 1, 1)
energy = 0.4
texture = ExtResource("16_8syyv")

[node name="CanvasModulate" type="CanvasModulate" parent="." index="11"]
color = Color(0.49, 0.49, 0.49, 1)

[node name="Transitions" type="Node2D" parent="." index="12"]

[node name="TransitionScene" parent="Transitions" index="0" instance=ExtResource("18_bmkdd")]
position = Vector2(524, -317)
scale = Vector2(15.4898, 4.23953)
scene_name = "dog_roll_room"
entry_point = "Room_2"

[node name="TransitionScene2" parent="Transitions" index="1" instance=ExtResource("18_bmkdd")]
position = Vector2(536, 914)
scale = Vector2(13.9913, 3.4)
scene_name = "dungeon_2_entrance_room"
entry_point = "Room_2"

[node name="Shadows" type="Node2D" parent="." index="13"]
z_index = 5

[node name="SS2D_Shape" type="Node2D" parent="Shadows" index="0"]
position = Vector2(7, 202)
script = ExtResource("12_mvpvx")
_points = SubResource("Resource_r0ac3")
shape_material = ExtResource("18_lja2b")

[node name="SS2D_Shape2" type="Node2D" parent="Shadows" index="1"]
position = Vector2(-73, 186)
scale = Vector2(1.12372, 1.12372)
script = ExtResource("12_mvpvx")
_points = SubResource("Resource_r0ac3")
shape_material = ExtResource("18_lja2b")

[node name="SS2D_Shape3" type="Node2D" parent="Shadows" index="2"]
position = Vector2(-151, 173)
scale = Vector2(1.26336, 1.26336)
script = ExtResource("12_mvpvx")
_points = SubResource("Resource_r0ac3")
shape_material = ExtResource("18_lja2b")
